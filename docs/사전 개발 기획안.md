# [김해경] 바이브 코딩 해커톤_사전 개발 기획안

# AI 릴레이 만화

## 그림 실력 없어도 만화 작가가 되는 서비스

> OKKY Vibe Coding 해커톤 사전 기획안 | 2026.02.19
> 

---

## 1. 해결하고 싶은 문제

### 1.1 핵심 문제

- **그림 장벽**: 만화를 그리고 싶지만 그림 실력 때문에 망설이는 사람이 많다. 웹툰/만화 소비자 대부분은 재미있는 아이디어는 있으나 시각화 능력이 부족하다.
- **혼자만의 한계**: 혼자 쓰면 아이디어가 고갈되거나 전개가 단조로워진다. 함께 이어 쓰면 예측 불가한 전개와 협업 재미가 생긴다.
- **공유 부담**: 완성된 만화를 SNS에 올리기 위해 별도 편집·합성이 필요하다.

### 1.2 해결 방향

| 문제 | 해결 방식 |
| --- | --- |
| 그림 장벽 | AI 이미지 생성(Gemini 2.5 Flash Image)으로 장면·대사·표음 입력만으로 만화 칸 이미지 자동 생성 |
| 혼자만의 한계 | 턴제 릴레이 + 링크 공유로 닉네임만 입력해 즉시 참여, 실시간 화면 반영 |
| 공유 부담 | 한 번의 액션으로 세로 스트립 이미지 다운로드 + 고유 링크 복사 제공 |

### 1.3 기대 효과

- **즉시성**: 한 줄 입력 → 수 초 내 만화 칸 생성 → 대기 없이 다음 칸 작성 가능.
- **접근성**: 회원가입 없이 링크 + 닉네임만으로 참여.
- **완성 용이**: 3칸 이상이면 "AI에게 넘기기"로 남은 칸 스토리·이미지 자동 완성.

---

## 2. AI 도구 활용 계획

### 2.1 요약

| AI 도구 | 역할 | 활용 방식 |
| --- | --- | --- |
| Gemini 2.5 Flash Image | 만화 칸 이미지 생성 | [스타일 prefix] + [캐릭터 고정값] + [이전 칸 이미지 레퍼런스] + [장면·대사·표음·말풍선 위치] → 한 번의 API 호출로 완성 이미지 생성 |
| Claude API | 스토리 자동완성 + 프롬프트 보정 | 지금까지의 칸 흐름을 분석해 나머지 칸의 장면·대사·표음을 자동 생성. 생성된 프롬프트를 유저가 수정 후 Gemini에 전달 가능 |

### 2.2 Gemini 2.5 Flash Image — 구체 사양

- **입력 구성 (프롬프트)**  
  - **스타일 prefix**: 에피소드 선택 스타일(예: 웹툰, 4컷, 소녀만화)에 따른 고정 문구. 예: `"한국 웹툰 스타일, 세로 비율, 말풍선과 대사가 있는 한 컷."`  
  - **캐릭터 고정값**: 방장이 설정한 캐릭터 설명(외형, 의상, 성격 묘사). 매 칸 동일하게 prefix에 포함.  
  - **이전 칸 이미지**: 직전 칸 생성 이미지 URL 또는 base64를 reference image로 전달해 캐릭터 일관성 유지. 첫 칸은 레퍼런스 없음.  
  - **현재 칸 내용**: 장면 설명(배경·행동·구도) + 대사 텍스트 + 표음(예: 쿵, 찌릿) + 말풍선 위치(왼쪽/오른쪽/중앙 등).  
- **출력**: 한 장의 만화 칸 이미지(비율: 세로 스트립용, 예: 3:4 또는 9:16).  
- **제한·예외**:  
  - 이미지당 생성 시간 5~15초 가정. 타임아웃 30초, 실패 시 "다시 생성" 버튼 노출.  
  - 유해 콘텐츠 필터 걸림 시 사용자에게 "내용을 조금 수정해 주세요" 안내 후 재시도 유도.

### 2.3 Claude API — 구체 사양

- **스토리 자동완성 (AI 이어쓰기)**  
  - **입력**: 지금까지 작성된 칸들의 `{ 장면설명, 대사, 표음 }` 배열 + (선택) 에피소드 제목/한 줄 소개.  
  - **출력**: 남은 칸 수만큼의 `{ 장면설명, 대사, 표음 }` 배열. 톤·캐릭터는 기존 칸과 맞추도록 지시.  
  - **제한**: 3칸 미만일 때는 "AI에게 넘기기" 비활성화. 최대 자동 생성 칸 수는 MVP에서 5~10칸으로 제한 검토.  
- **프롬프트 보정(선택)**  
  - 유저가 입력한 장면/대사/표음을 그대로 쓰기 애매할 때, Claude가 만화용으로 다듬은 문장을 제안. 유저가 수정·수락 후 Gemini에 전달.

---

## 3. 타겟 유저

| 타겟 | 동기 | 핵심 경험 | 구체적 행동 |
| --- | --- | --- | --- |
| 웹툰 / SNS 만화 소비자 | 내 아이디어로 만화를 만들고 싶지만 그림을 못 그림 | 한 줄 입력 → 즉시 만화 이미지 생성 → SNS 공유용 이미지 다운로드 | 에피소드 생성 → 스타일·캐릭터 설정 → 칸마다 장면/대사 입력 → 생성 → 다운로드 |
| 친구와 함께 즐기는 유저 | 같이 뭔가 만들면서 웃고 싶다 | 링크 공유 → 닉네임만 입력 → 즉시 릴레이 참여 | 링크 접속 → 닉네임 입력 → 차례 오면 입력 → 생성 확인 → 다음 사람에게 넘김 |
| 구경꾼 / 공유 수신자 | 남이 만든 이상한 만화 보고 싶다 | 링크 열면 만화 감상 + ‘나도 이어쓰기’ CTA로 신규 유입 | 링크로 진입 → 스크롤로 감상 → "나도 이어쓰기" 클릭 시 참여 플로우로 이동 |

---

## 4. 유저 시나리오 — 콜라보 릴레이 플로우

### 4.1 단계 요약

| 단계 | 주체 | 행동 |
| --- | --- | --- |
| ① 시작 | 방장 A | 에피소드 생성 → 스타일 선택 → 캐릭터 설정 → 첫 칸 장면·대사·표음 입력 |
| ② 이미지 생성 | 시스템 | Gemini 2.5 Flash Image가 말풍선·대사·표음 포함 만화 이미지 생성 |
| ③ 초대 | 방장 A | 콜라보 링크 복사 → 친구 B, C에게 공유 |
| ④ 참여 | 친구 B | 링크 접속 → 닉네임 입력만으로 즉시 참여 (회원가입 없음) |
| ⑤ 대기 | 친구 B | ‘A님이 그리는 중…’ 대기 화면 → A 칸 완성 즉시 실시간으로 화면 업데이트 |
| ⑥ 릴레이 | B → C → A | 차례 도래 시 입력창 활성화 → 장면 입력 → 이미지 생성 → 다음 차례로 자동 이전 |
| ⑦ AI 완성 | 유저 선택 | 3칸 이상 시 ‘AI에게 넘기기’ 버튼 → Claude가 나머지 칸 스토리 자동 완성 |
| ⑧ 공유 | 누구나 | ‘지금 공유하기’ → 세로 스트립 이미지 다운로드 + 고유 링크 복사 |

### 4.2 화면별 상세 (MVP 기준)

| 화면/상태 | 진입 조건 | UI 요소 | 다음 전이 |
| --- | --- | --- | --- |
| **에피소드 생성** | 메인에서 "새 만화 시작" | 스타일 6종 선택, 캐릭터 설명 입력(텍스트), (선택) 제목·한줄소개 | 첫 칸 입력 화면 |
| **첫 칸 입력** | 에피소드 생성 직후 | 장면설명, 대사, 표음, 말풍선 위치 입력 필드, "생성" 버튼 | 생성 중 로딩 → 칸 표시 |
| **콜라보 대기실** | 방장이 링크 공유 후 / 참여자가 링크 접속 후 | 참여자 목록(닉네임), "콜라보 링크 복사", 현재 차례 표시, 지금까지의 칸 스트립 | 차례 오면 입력창 활성화 |
| **차례 입력** | 턴이 본인일 때 | 동일한 칸 입력 폼, "생성" → 생성 완료 시 자동으로 다음 차례로 넘김 | 다음 참여자 대기 또는 AI 완성 선택 |
| **AI 이어쓰기** | 3칸 이상 + "AI에게 넘기기" 클릭 | (선택) 남을 칸 수 입력, "완성하기" → Claude 스토리 생성 후 칸별 Gemini 호출 | 완성된 스트립 화면 |
| **공유** | 완성/미완성 무관 | "지금 공유하기" → 세로 스트립 다운로드(PNG/JPEG), 고유 링크 복사, (선택) QR 코드 | — |

### 4.3 예외·에러 처리

| 상황 | 처리 |
| --- | --- |
| 이미지 생성 타임아웃(30초) | "다시 생성" 버튼 노출, 기존 입력값 유지 |
| Gemini/Claude API 오류 | 토스트/인라인 메시지 "잠시 후 다시 시도해 주세요", 재시도 버튼 |
| 참여자 중도 이탈 | 해당 턴 스킵 또는 방장이 "다음 차례로 넘기기"로 순서 변경 (MVP에서는 스킵만 가능해도 무방) |
| 동시에 같은 칸 수정 시도 | 턴제이므로 한 번에 한 명만 입력 가능. Supabase Realtime으로 현재 턴 소유자 lock |

---

## 5. 핵심 기능 (MVP)

| 기능 | 설명 | 완료 기준 |
| --- | --- | --- |
| **스타일 고정** | 에피소드 시작 시 6종 프리셋 선택, 이후 변경 불가. 모든 칸 프롬프트에 자동 주입 | 스타일 선택 시 DB 저장, 이미지 생성 시 해당 prefix 사용 |
| **이미지 생성** | 장면 설명 + 대사 + 표음 + 말풍선 위치를 프롬프트에 포함 → Gemini 2.5 Flash Image 호출 | 한 칸 입력 시 1장 이미지 생성 후 Storage 저장 및 칸에 URL 연결 |
| **캐릭터 일관성** | 이전 칸 이미지를 레퍼런스로 넘겨 캐릭터 외형 유지 | 2칸부터 직전 칸 이미지를 reference image로 API에 전달 |
| **멀티유저 콜라보** | Supabase Realtime 기반 턴제 릴레이. 링크 공유 + 닉네임만으로 즉시 참여 | 링크 진입 → 닉네임 입력 → 참여자 등록, 턴 변경 시 실시간 반영 |
| **AI 이어쓰기** | 3칸 이상 시 Claude API가 남은 칸 스토리 자동 생성 → Gemini로 이미지 완성 | "AI에게 넘기기" 클릭 시 남은 칸 수만큼 스토리 생성 후 칸별 이미지 생성·저장 |
| **좋아요** | 칸 단위 좋아요. 에피소드 총 좋아요 수는 칸별 합산 | 칸별 좋아요 수 저장, 에피소드 상단에 합산 표시 |
| **SNS 공유** | 완성/미완성 무관 세로 스트립 다운로드 + 고유 링크 공유 | "지금 공유하기" 시 스트립 이미지 다운로드 + `/e/{episodeId}` 형태 링크 복사 |

---

## 6. 해커톤 데모 시나리오

| # | 시연자 | 시연 내용 |
| --- | --- | --- |
| 1 | 발표자 (탭 A) | 에피소드 생성 → ‘웹툰’ 스타일 선택 → 캐릭터 설정 → 첫 칸 장면 입력 → 이미지 생성 확인 |
| 2 | 발표자 (탭 A) | 콜라보 링크 복사 → QR코드 또는 링크를 화면에 표시 |
| 3 | 발표자 (탭 B) | 링크 접속 → 닉네임 ‘구경꾼B’ 입력 → 참여자 목록에 즉시 등록 확인 |
| 4 | 발표자 (탭 A) | 두 번째 칸 입력 → 이미지 생성 → 탭 B에서 실시간으로 칸 추가되는 것 확인 |
| 5 | 발표자 (탭 B) | 차례 전환 → 탭 B 입력창 활성화 → 세 번째 칸 작성 |
| 6 | 발표자 (탭 A) | ‘AI에게 넘기기’ 클릭 → Claude가 나머지 칸 자동 생성 → 완성된 스트립 확인 |
| 7 | 발표자 (탭 A) | ‘지금 공유하기’ → SNS용 이미지 다운로드 + 링크 복사 시연 |

### 6.1 체크 포인트 / 대안

- 1단계: 생성 완료 시 칸 1장이 스트립에 표시. 실패 시 "다시 생성"으로 재시도.
- 2단계: 링크 형식 `https://도메인/c/{episodeId}` 또는 단축 코드.
- 3단계: 탭 A의 참여자 목록에 참여자 실시간 표시.
- 4단계: Realtime 구독으로 탭 B에 새 칸 자동 반영 (새로고침 없음).
- 5단계: 턴 전환 후 입력 필드 활성화, 생성 후 자동으로 다음 차례로.
- 6단계: 3칸 이상일 때만 "AI에게 넘기기" 활성화. 완성 후 스트립 세로 스크롤로 전체 확인.
- 7단계: 다운로드 파일명 예 `ai-relay-{episodeId}.png`, 링크 복사 시 토스트 확인.

### 6.2 데모 전 준비 사항

- **환경**: Vercel 배포 URL 2개 탭(또는 시크릿 + 일반 창). API 키(Supabase, Gemini, Claude) 환경 변수 설정 확인.
- **폴백**: 이미지 생성 지연 시 "이미 생성된 칸까지로 공유"로 데모 이어가기. Realtime 끊김 시 한 번 새로고침 후 재시연.

---

## 7. 기술 스택

| 영역 | 기술 |
| --- | --- |
| Frontend | React + Tailwind CSS (Vite) |
| Backend | Supabase (PostgreSQL + Realtime + Storage) |
| 이미지 생성 | Gemini 2.5 Flash Image (Google AI Studio) |
| 스토리 AI | Claude API |
| 배포 | Vercel (무료) |

---

## 8. 데이터 모델 (MVP)

- **episodes**  
  - `id` (UUID), `style` (스타일 키), `character_prompt` (텍스트), `title`, `summary` (선택), `created_at`, `current_turn_index` (현재 차례 참여자 순번), `status` (draft | in_progress | completed).
- **participants**  
  - `id`, `episode_id`, `nickname`, `turn_order` (0=방장, 1,2,...), `joined_at`.
- **panels** (칸)  
  - `id`, `episode_id`, `order_index`, `scene_description`, `dialogue`, `sound_effect`, `bubble_position`, `image_url` (Storage URL), `created_by` (participant id), `created_at`. 좋아요는 별도 테이블 또는 `panel_likes` (panel_id, participant_id 또는 anonymous_id) + 칸별 count.
- **Realtime**: `episodes` 행의 `current_turn_index` 및 `panels` 행 INSERT 시 구독하여 UI 갱신.

---

## 9. 기술 스택 상세

| 영역 | 기술 | 비고 |
| --- | --- | --- |
| Frontend | React 18+ + Tailwind CSS (Vite) | SPA, 반응형 세로 스트립 뷰 |
| Backend | Supabase (PostgreSQL + Realtime + Storage) | 인증 없이 익명 참여 시 RLS 또는 공개 읽기/쓰기 정책 검토 |
| 이미지 생성 | Gemini 2.5 Flash Image (Google AI Studio) | API 키는 서버/Edge에서만 사용 권장 |
| 스토리 AI | Claude API | 서버/Edge에서 호출 |
| 배포 | Vercel (무료) | Serverless/Edge에서 Gemini·Claude 호출 시 API 라우트 사용 |

### 9.1 환경 변수 (예시)

- `VITE_SUPABASE_URL`, `VITE_SUPABASE_ANON_KEY` (또는 서버용 `SUPABASE_SERVICE_KEY`)
- `GEMINI_API_KEY`, `CLAUDE_API_KEY` (서버 측에만 두고 클라이언트에 노출 금지)

---

## 10. 마일스톤 (해커톤 기준)

| 단계 | 목표 | 산출물 |
| --- | --- | --- |
| M1 | 기획·스펙 고정 | 본 기획안 구체화, SPEC.md 초안 |
| M2 | 단일 유저 플로우 | 에피소드 생성 → 스타일/캐릭터 → 1칸 이미지 생성 → 스트립 뷰 |
| M3 | 콜라보 + Realtime | 링크 공유, 닉네임 참여, 턴제 입력, 실시간 칸 반영 |
| M4 | AI 이어쓰기 + 공유 | "AI에게 넘기기", 스트립 다운로드, 고유 링크 복사 |
| M5 | 데모 준비 | 좋아요(선택), 에러/타임아웃 처리, 데모 시나리오 리허설 |